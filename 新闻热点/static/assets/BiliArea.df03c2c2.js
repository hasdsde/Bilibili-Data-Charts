import{ab as b,r as s,v as g,ac as p,ai as w,aq as n,ar as l,ad as x,as as k,ag as r,ae as i,a8 as B,N as A,ah as C}from"./index.1189a410.js";import{Q as F,S as N,e as q,U as D}from"./index.esm.min.5c97a2c3.js";import"./index.911386b0.js";import{a as Q}from"./axios.915fd2f0.js";import"./format.c27e6562.js";import"./use-timeout.0848b5ff.js";const V={class:"q-mt-lg tmp"},E={class:"row"},P=n("div",{class:"col-1"},null,-1),S={class:"col-6"},T=n("div",{class:"col-1"},null,-1),U={class:"q-pa-md fit row wrap justify-center items-center content-center"},K=b({__name:"BiliArea",setup(j){let o=[],u=[],c=s([]),d=s([]),m=s([]);Q.get("/bili_bangumi_area").then(t=>{o=Object.keys(t.data);for(let a in o){const e=o[a];u.push({name:e,value:t.data[e]})}c.value=v(u)});function v(t){return t.sort((a,e)=>e.value-a.value),t.forEach((a,e)=>{d.value.push(a.name),m.value.push(a.value),a.index=e}),t}const h={sortby:"score",rowsPerPage:"50"};B(D,"white");let _=s(!0);g(()=>{_.value=!1,console.log("onUnmounted")});const f=s({xAxis:{type:"category",data:d},yAxis:{type:"value"},series:[{data:m,type:"bar"}]}),y=[{name:"index",label:"#",field:"index",align:"center"},{name:"name",required:!0,label:"\u6807\u9898",align:"center",field:"name",sortable:!0},{name:"count",align:"center",label:"\u6570\u91CF",field:"value",sortable:!0}];return(t,a)=>(p(),w("div",V,[n("div",E,[P,n("div",S,[l(_)?(p(),x(l(N),{key:0,class:"chart",option:f.value,autoresize:""},null,8,["option"])):k("",!0)]),T]),n("div",U,[r(F,{style:{width:"30vw"},title:"\u756A\u5267\u5730\u533A\u4FE1\u606F",rows:l(c),columns:y,pagination:h,"row-key":"index"},{"body-cell-link":i(e=>[r(q,{props:e},{default:i(()=>[r(A,{color:"primary",size:"sm",href:e.value,target:"_blank"},{default:i(()=>[C("\u8DF3\u8F6C")]),_:2},1032,["href"])]),_:2},1032,["props"])]),_:1},8,["rows"])])]))}});export{K as default};
